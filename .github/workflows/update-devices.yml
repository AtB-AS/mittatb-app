name: Update devices
on:
  workflow_dispatch:
    inputs:
      org:
        description: 'App organization to update provisioning profiles'
        required: true
        type: choice
        options:
          - atb
          - fram
          - nfk
jobs:
  update-devices-development:
    name: Update new devices and provisioning profiles for development
    runs-on: ubuntu-latest
    steps:
      - name: development
        uses: ./.github/actions/ios-build-setup
        with:
          app-environment: development
          app-org: ${{ inputs.org }}

  update-devices-adhoc:
    name: adhoc
    needs: update-devices-development
    runs-on: ubuntu-latest
    steps:
      - name: adhoc
        uses: ./.github/actions/ios-build-setup
        with:
          app-environment: adhoc
          app-org: ${{ inputs.org }}
