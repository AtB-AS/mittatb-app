{"version":3,"sources":["DeleteLocalHandler.ts"],"names":["stateHandlerFactory","deleteToken","logger","deleteLocalHandler","s","accountId","state","info","undefined"],"mappings":"AACA,SAASA,mBAAT,QAAoC,mBAApC;AACA,SAASC,WAAT,QAA4B,iBAA5B;AACA,SAASC,MAAT,QAAuB,iBAAvB;AAEA,eAAe,SAASC,kBAAT,GAA4C;AACzD,SAAOH,mBAAmB,CAAC,CAAC,aAAD,CAAD,EAAkB,MAAOI,CAAP,IAAa;AACvD,UAAM;AAAEC,MAAAA,SAAF;AAAaC,MAAAA;AAAb,QAAuBF,CAA7B;AACAF,IAAAA,MAAM,CAACK,IAAP,CAAY,2BAAZ,EAAyCC,SAAzC,EAAoD;AAAEH,MAAAA,SAAF;AAAaC,MAAAA;AAAb,KAApD;AACAL,IAAAA,WAAW,CAACI,SAAD,CAAX;AACA,WAAO;AACLA,MAAAA,SAAS,EAAEA,SADN;AAELC,MAAAA,KAAK,EAAE;AAFF,KAAP;AAID,GARyB,CAA1B;AASD","sourcesContent":["import type { StateHandler } from '../HandlerFactory';\nimport { stateHandlerFactory } from '../HandlerFactory';\nimport { deleteToken } from '../../../native';\nimport { logger } from '../../../logger';\n\nexport default function deleteLocalHandler(): StateHandler {\n  return stateHandlerFactory(['DeleteLocal'], async (s) => {\n    const { accountId, state } = s;\n    logger.info('mobiletoken_status_change', undefined, { accountId, state });\n    deleteToken(accountId);\n    return {\n      accountId: accountId,\n      state: 'InitiateNew',\n    };\n  });\n}\n"]}