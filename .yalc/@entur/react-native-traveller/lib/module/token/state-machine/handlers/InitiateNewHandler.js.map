{"version":3,"sources":["InitiateNewHandler.ts"],"names":["Platform","stateHandlerFactory","requireAttestation","select","default","ios","initiateNewHandler","abtTokensService","s","initTokenResponse","initToken","deviceName","accountId","state","initiatedData"],"mappings":"AACA,SAASA,QAAT,QAAyB,cAAzB;AAEA,SAASC,mBAAT,QAAoC,mBAApC;AAEA,MAAMC,kBAAkB,GAAGF,QAAQ,CAACG,MAAT,CAAgB;AACzCC,EAAAA,OAAO,EAAE,IADgC;AAEzCC,EAAAA,GAAG,EAAE;AAFoC,CAAhB,CAA3B;AAKA,eAAe,SAASC,kBAAT,CACbC,gBADa,EAEC;AACd,SAAON,mBAAmB,CAAC,CAAC,aAAD,CAAD,EAAkB,MAAOO,CAAP,IAAa;AACvD,UAAMC,iBAAiB,GAAG,MAAMF,gBAAgB,CAACG,SAAjB,CAA2B;AACzDR,MAAAA,kBADyD;AAEzDS,MAAAA,UAAU,EAAE,gBAF6C,CAE3B;;AAF2B,KAA3B,CAAhC;AAKA,WAAO;AACLC,MAAAA,SAAS,EAAEJ,CAAC,CAACI,SADR;AAELC,MAAAA,KAAK,EAAE,WAFF;AAGLC,MAAAA,aAAa,EAAEL;AAHV,KAAP;AAKD,GAXyB,CAA1B;AAYD","sourcesContent":["import type { AbtTokensService } from '../../abt-tokens-service';\nimport { Platform } from 'react-native';\nimport type { StateHandler } from '../HandlerFactory';\nimport { stateHandlerFactory } from '../HandlerFactory';\n\nconst requireAttestation = Platform.select({\n  default: true,\n  ios: false,\n});\n\nexport default function initiateNewHandler(\n  abtTokensService: AbtTokensService\n): StateHandler {\n  return stateHandlerFactory(['InitiateNew'], async (s) => {\n    const initTokenResponse = await abtTokensService.initToken({\n      requireAttestation,\n      deviceName: 'tempDeviceName', // todo: How to get?\n    });\n\n    return {\n      accountId: s.accountId,\n      state: 'AttestNew',\n      initiatedData: initTokenResponse,\n    };\n  });\n}\n"]}