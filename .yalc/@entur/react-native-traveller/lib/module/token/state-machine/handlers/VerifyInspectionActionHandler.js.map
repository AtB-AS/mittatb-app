{"version":3,"sources":["VerifyInspectionActionHandler.ts"],"names":["stateHandlerFactory","isTokenInspectable","verifyInspectionActionHandler","abtTokensService","accountId","tokenId","tokens","toggleToken","overrideExisting","state","isInspectable"],"mappings":"AAEA,SAASA,mBAAT,QAAoC,mBAApC;AACA,SAASC,kBAAT,QAAmC,UAAnC;AAEA,eAAe,SAASC,6BAAT,CACbC,gBADa,EAEC;AACd,SAAOH,mBAAmB,CACxB,CAAC,wBAAD,CADwB,EAExB,OAAO;AAAEI,IAAAA,SAAF;AAAaC,IAAAA;AAAb,GAAP,KAAkC;AAChC,UAAM;AAAEC,MAAAA;AAAF,QAAa,MAAMH,gBAAgB,CAACI,WAAjB,CAA6BF,OAA7B,EAAsC;AAC7DG,MAAAA,gBAAgB,EAAE;AAD2C,KAAtC,CAAzB;AAIA,WAAO;AACLJ,MAAAA,SADK;AAELK,MAAAA,KAAK,EAAE,OAFF;AAGLC,MAAAA,aAAa,EAAET,kBAAkB,CAACK,MAAD,EAASD,OAAT;AAH5B,KAAP;AAKD,GAZuB,CAA1B;AAcD","sourcesContent":["import type { AbtTokensService } from '../../abt-tokens-service';\nimport type { StateHandler } from '../HandlerFactory';\nimport { stateHandlerFactory } from '../HandlerFactory';\nimport { isTokenInspectable } from '../utils';\n\nexport default function verifyInspectionActionHandler(\n  abtTokensService: AbtTokensService\n): StateHandler {\n  return stateHandlerFactory(\n    ['VerifyInspectionAction'],\n    async ({ accountId, tokenId }) => {\n      const { tokens } = await abtTokensService.toggleToken(tokenId, {\n        overrideExisting: false,\n      });\n\n      return {\n        accountId,\n        state: 'Valid',\n        isInspectable: isTokenInspectable(tokens, tokenId),\n      };\n    }\n  );\n}\n"]}