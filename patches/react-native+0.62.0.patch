diff --git a/node_modules/react-native/react.gradle b/node_modules/react-native/react.gradle
index d886a9b..6c4b6bb 100644
--- a/node_modules/react-native/react.gradle
+++ b/node_modules/react-native/react.gradle
@@ -115,6 +115,10 @@ afterEvaluate {
 
         def enableHermes = enableHermesForVariant(variant)
 
+        // Set up dev mode
+        def devEnabled = !(config."devDisabledIn${targetName}"
+            || targetName.toLowerCase().contains("release"))
+
         def currentBundleTask = tasks.create(
             name: "bundle${targetName}JsAndAssets",
             type: Exec) {
@@ -141,10 +145,6 @@ afterEvaluate {
             // Set up the call to the react-native cli
             workingDir(reactRoot)
 
-            // Set up dev mode
-            def devEnabled = !(config."devDisabledIn${targetName}"
-                || targetName.toLowerCase().contains("release"))
-
             def extraArgs = extraPackagerArgs;
 
             if (bundleConfig) {
@@ -163,7 +163,7 @@ afterEvaluate {
                     def hermesFlags;
                     def hbcTempFile = file("${jsBundleFile}.hbc")
                     exec {
-                        if (targetName.toLowerCase().contains("release")) {
+                        if (!devEnabled) {
                             // Can't use ?: since that will also substitute valid empty lists
                             hermesFlags = config.hermesFlagsRelease
                             if (hermesFlags == null) hermesFlags = ["-O", "-output-source-map"]
@@ -299,7 +299,6 @@ afterEvaluate {
         // This should really be done by packaging all Hermes releated libs into
         // two separate HermesDebug and HermesRelease AARs, but until then we'll
         // kludge it by deleting the .so files out of the /transforms/ directory.
-        def isRelease = targetName.toLowerCase().contains("release")
         def libDir = "$buildDir/intermediates/transforms/"
         def vmSelectionAction = {
             fileTree(libDir).matching {
@@ -307,7 +306,7 @@ afterEvaluate {
                     // For Hermes, delete all the libjsc* files
                     include "**/libjsc*.so"
 
-                    if (isRelease) {
+                    if (!devEnabled) {
                         // Reduce size by deleting the debugger/inspector
                         include '**/libhermes-inspector.so'
                         include '**/libhermes-executor-debug.so'
